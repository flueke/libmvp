R"(
# Do not modify this file. It was generated by mvme_root_client and will be
# overwritten when next running the client.

ROOTCFLAGS	=	$(shell root-config --cflags)
ROOTLIBS	=	$(shell root-config --libs)
MVMELIBS    =   -L. -L$(MVME) -L$(MVME)/lib -lmvme_root_event
INCLUDES    =	-I$(MVME)/include

CXXFLAGS   +=	-fPIC
CXXFLAGS   +=   $(INCLUDES)

EXP_LIB		= lib{{exp_name}}_mvme.so
EXP_DICT	= lib{{exp_name}}_mvme_dict.cxx
EXP_LINK    = -L. -l{{exp_name}}_mvme
EXP_LINKDEF = {{exp_name}}_mvme_LinkDef.h

ALL_TARGETS	= $(EXP_LIB)
EXTRA_CLEAN =

.DEFAULT_GOAL = all
.PHONY: all clean

# Customization point for user analysis
include analysis.mk

$(EXP_DICT): {{impl_filename}} {{header_filename}} $(EXP_LINKDEF)
	rootcling -f $@ -rml $(EXP_LIB) -rmf lib{{exp_name}}_mvme.rootmap $(INCLUDES) {{header_filename}} $(EXP_LINKDEF)

$(EXP_LIB): {{impl_filename}} {{header_filename}} $(EXP_DICT)
	$(CXX) $(LDFLAGS) $(ROOTCFLAGS) $(CXXFLAGS) $(ROOTLIBS) $(MVMELIBS) -shared -fPIC -o $@ $< $(EXP_DICT)

all: $(ALL_TARGETS)

clean:
	-rm -f $(EXP_LIB) $(EXP_DICT) $(EXTRA_CLEAN)

{{!
vim:ft=make
}})"
